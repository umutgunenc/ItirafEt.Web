@page "/admin/adminastorPanel"

<div class="border-start border-4 border-primary ps-3 mb-4">
	<h3 class="mb-0 fw-bold text-dark-emphasis">
		<i class="bi bi-person-gear me-2"></i>
		Yönetici Paneli
	</h3>
</div>
<AuthorizeView Context="Categories">
	<Authorized>
		<AuthorizeView Roles="@SuperAdminAdmin">
			<div class="border-start border-4 border-primary ps-3 mb-4" @onclick="ToggleCategory">
				<h3 class="mb-0 fw-bold text-dark-emphasis d-flex align-items-center" style="cursor: pointer;">
					<i class="bi bi-folder2-open me-2"></i>
					Kategori İşlemleri
					<i class="bi ms-auto @(isCategoryVisible ? "bi-chevron-up" : "bi-chevron-down") fs-5 text-muted"></i>
				</h3>
			</div>

			@if (isCategoryVisible)
			{
				<div class="d-flex flex-column gap-3 mb-4 transition-opacity">

					<NavLink class="text-decoration-none" href="admin/createcategory">
						<div class="card shadow-md border-0 bg-dark-subtle hover-shadow transition d-flex flex-row align-items-center p-3 rounded-3">
							<i class="bi bi-plus-circle text-success fs-4 me-3"></i>
							<span class="fs-6 fw-semibold text-dark-emphasis">Kategori Ekle</span>
						</div>
					</NavLink>
					<NavLink class="text-decoration-none" href="admin/editcategory">
						<div class="card shadow-md border-0 bg-dark-subtle hover-shadow transition d-flex flex-row align-items-center p-3 rounded-3">
							<i class="bi bi-pencil-square text-primary fs-4 me-3"></i>
							<span class="fs-6 fw-semibold text-dark-emphasis">Kategori Düzenle</span>
						</div>
					</NavLink>


				</div>
			}
		</AuthorizeView>
	</Authorized>
</AuthorizeView>

<AuthorizeView Context="Users">
	<Authorized>
		<AuthorizeView Roles="@SuperAdmin">
			<div class="border-start border-4 border-primary ps-3 mb-4" @onclick="ToggleUsers">
				<h3 class="mb-0 fw-bold text-dark-emphasis d-flex align-items-center" style="cursor: pointer;">
					<i class="bi bi-people me-2"></i>
					Kullanıcı İşlemleri
					<i class="bi ms-auto @(isUsersVisible ? "bi-chevron-up" : "bi-chevron-down") fs-5 text-muted"></i>
				</h3>
			</div>

			@if (isUsersVisible)
			{
				<div class="d-flex flex-column gap-3 mb-4 transition-opacity">
					<NavLink class="text-decoration-none" href="admin/editcategory">
						<div class="card shadow-md border-0 bg-dark-subtle hover-shadow transition d-flex flex-row align-items-center p-3 rounded-3">
							<i class="bi bi-pencil-square text-primary fs-4 me-3"></i>
							<span class="fs-6 fw-semibold text-dark-emphasis">Kategori Düzenle</span>
						</div>
					</NavLink>

					<NavLink class="text-decoration-none" href="admin/createcategory">
						<div class="card shadow-md border-0 bg-dark-subtle hover-shadow transition d-flex flex-row align-items-center p-3 rounded-3">
							<i class="bi bi-plus-circle text-success fs-4 me-3"></i>
							<span class="fs-6 fw-semibold text-dark-emphasis">Kategori Ekle</span>
						</div>
					</NavLink>
				</div>
			}
		</AuthorizeView>
	</Authorized>
</AuthorizeView>
.....


@code {
	private bool isCategoryVisible = false;
	private bool isUsersVisible = false;

	private string SuperAdminAdminModerator = string.Join(",",
		nameof(UserRole.SuperAdmin),
		nameof(UserRole.Admin),
		nameof(UserRole.Moderator));

	private string SuperAdminAdmin = string.Join(",",
		nameof(UserRole.SuperAdmin),
		nameof(UserRole.Admin));

	private string SuperAdmin = string.Join(",",
		nameof(UserRole.SuperAdmin));

	private void ToggleCategory()
	{
		isCategoryVisible = !isCategoryVisible;
	}

	private void ToggleUsers(){
		isUsersVisible=!isUsersVisible;
	}



}
